# statsmodels_HC_cov
Матрицы форм HC4, HC4m и HC5, точно такие же, как и в R здесь: https://www.rdocumentation.org/packages/sandwich/versions/3.0-2/topics/vcovHC
Просто код получения матрицы можно посмотреть здесь: https://github.com/dogfew/statsmodels_HC_cov/blob/main/statsmodels_HC_cov/cov.py
Тесты писать мне лень. 

#### Установка
```
git clone https://github.com/dogfew/statsmodels_HC_cov
cd statsmodels_HC_cov
python main.py 
```
Enter.
#### Удаление
```
pip uninstall statsmodels-hc-cov
```
## Подготовка к использованию библиотеки

Сначала необходимо подготовить модель типа OLS из statsmodels.api, и зафитить её.

#### Подготовка данных
```
>>> from sklearn.datasets import make_regression
>>> X, y = make_regression(n_features=4)
```
#### Подготовка модели
```
>>> from statsmodels.api import OLS
>>> model = OLS(y, X).fit()
```

## Использование этой библиотеки
#### Импорт потенциально необходимых вещей
```
>>> from statsmodels_HC_cov.cov import cov_hc5, cov_hc4, cov_hc4m, vcov_hc, ttest
```
#### Получить ковариационную матрицу соответствующей функцией
```
>>> cov_hc5(model)

array([[ 7.00329406e-29, -2.72999648e-29, -2.47611046e-29,
         9.82823665e-31],
       [-2.72999648e-29,  1.69100904e-28,  6.73654836e-29,
         4.29971145e-29],
       [-2.47611046e-29,  6.73654836e-29,  1.10443506e-28,
         3.81531205e-29],
       [ 9.82823665e-31,  4.29971145e-29,  3.81531205e-29,
         1.04737782e-28]])
```
#### Получить такую же ковариационную матрицу иначе
```
>>> vcov_hc(model, cov_type='hc5')

array([[ 7.00329406e-29, -2.72999648e-29, -2.47611046e-29,
         9.82823665e-31],
       [-2.72999648e-29,  1.69100904e-28,  6.73654836e-29,
         4.29971145e-29],
       [-2.47611046e-29,  6.73654836e-29,  1.10443506e-28,
         3.81531205e-29],
       [ 9.82823665e-31,  4.29971145e-29,  3.81531205e-29,
         1.04737782e-28]])
```

### Сделать тесты так сказать
```

```
# Зачем?

У меня сгорело, что я нигде в питоне это не нашёл. Впрочем, это никому и не нужно, кроме студентов.
